var GetPrice=GetPrice||{};GetPrice.priceDOM=new Array();GetPrice.getPriceFlag=false;GetPrice.cityLESId="";GetPrice.districtLESId="";GetPrice.channel="";GetPrice.callback="";GetPrice.queryprice=function(u,t,q){GetPrice.priceDOM=u;GetPrice.channel=t;GetPrice.callback=q;if(GetPrice.cityLESId==""){GetPrice.cityInf(GetPrice.cityInfCallback)}else{var v=u[0];var i=u.length>20?20:u.length;var A="";var z="";var s="";for(var w=0;w<i;w++){var x=[];if(typeof(u[w].attr("data-sku"))=="undefined"){x=u[w].attr("lazy-sku").split("|")}else{x=u[w].attr("data-sku").split("|")}var r=x[0];var p="";var y="1";if(x[2]=="2"){p=x[3];y="2"}else{if(x[2]=="3"){p="0000000000";y="2"}}A+="000000000"+r;z+=p;s+=y;if(w!=i-1){A+=",";z+=","}}$.ajax({url:sn.icpsDomain+"/icps-web/getVarnishAllPrice014/"+A+"_"+GetPrice.cityLESId+"_"+GetPrice.districtLESId+"_"+z+"_"+t+"_pricecallback.vhtm",cache:true,dataType:"jsonp",jsonp:false,jsonpCallback:"pricecallback",timeout:3000,error:function(a,b,c){},success:function(a){q(a)}})}};GetPrice.cityInf=function(q){var n=d("SN_CITY");if(n&&compareMDMIdAndLesId(n)){var o=analyzeCookie(n);if(typeof q=="function"){q(o)}}else{var p=/^(\w*)(pre)(\w*)(.cnsuning.com)$/;var m=/^(\w*)(sit)(\w*)(.cnsuning.com)$/;var l=/^(\w*)(dev)(\w*)(.cnsuning.com)$/;var r=document.location.hostname;var k="//ipservice.suning.com";if(p.test(r)){k="//ipservicepre.cnsuning.com"}else{if(m.test(r)){k="//ipservicesit.cnsuning.com"}else{if(l.test(r)){k="//ipservicesit.cnsuning.com"}}}var s=k+"/ipQuery.do";$.ajax({type:"GET",url:s,cache:true,async:false,dataType:"jsonp",jsonpCallback:"cookieCallback",success:function(a){a.flag="2";a.count=0;if(typeof q=="function"){q(a)}},error:function(){if(typeof q=="function"){q("")}}})}};var cookieCallback=function(b){};var compareMDMIdAndLesId=function(g){var f=g.split("|");if(f.length>0){var e=f[0].split("_");if(e[0]==e[1]){return false}else{return true}}};var analyzeCookie=function(h){var f=h.split("|");var g=null;if(f.length>0){var i=f[0].split("_");g={};g.provinceMDMId=i[0];g.cityLESId=i[1];g.cityMDMId=i[2];g.cityCommerceId=i[3];g.districtLESId=i[4];g.districtCommerceId=i[5];g.flag=i[6];g.count=i[7]}return g};var pricecallback=function(b){};GetPrice.cityInfCallback=function(b){sn.cityId="9017";GetPrice.cityLESId="010";GetPrice.cityLESId="0100101";if(null!=b&&""!=b){GetPrice.cityLESId=b.cityLESId;GetPrice.districtLESId=b.cityLESId+b.districtLESId+"01";sn.cityId=b.cityCommerceId}GetPrice.queryprice(GetPrice.priceDOM,GetPrice.channel,GetPrice.callback)};$(function(){});